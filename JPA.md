## JPA
자바 진영에서 ORM(Object-Relational Mapping) 기술 표준으로 사용되는 인터페이스의 모음이다. 그 말은 즉, 실제적으로 구현된것이 아니라 구현된 클래스와 매핑을 해주기 위해 사용되는 프레임워크이다. JPA를 구현한 대표적인 오픈소스로는 Hibernate가 있다.

## ORM(Object-Relational Mapping)
객체와 관계형 데이터베이스를 매핑한다. ORM 프레임워크는 객체와 테이블을 매핑한다.

### 장점
1. 객체를 데이터베이스에 저장할때 INSERT SQL을 직접 장성하지 않고 객체를 자바 컬렉션에 저장하듯이 ORM 프레임워크에 저장한다.
2. 개발자가 데이터 중심인 관계형 데이터베이스를 사용하더라도 객체지향 어플리케이션 개발에 집중할 수 있다. 

### JPA를 사용하는 이유
1. SQL 중심적인 개발에서 객체 중심으로 개발
2. 생산성 (Java Collection에 데이터를 넣었다 빼는 것처럼 사용)
3. 유지보수   
기존: 필드 변경 시 모든 SQL을 수정해야 한다.   
JPA: 필드만 추가하면 된다. SQL은 JPA가 처리하기 때문에 손댈 것이 없다.
4. Object와 RDB 간의 패러다임 불일치 해결

### 특징
- 1차캐시, 2차캐시
- 쓰기지연 
- 지연로딩과 즉시로딩
- 변경감지(dirty-checking)

### 1차 캐시 - 영속성 컨텍스트 내부에 엔티티를 보관하는 저장소
1. 조회 시 1차 캐시에 데이터가 이미 있는지 확인하고, 데이터가 있으면 가져온다. (비교는 PK로 한다.)
2. 1차 캐시에 데이터가 없다면, 데이터베이스에 데이터를 요청한다.
3. 데이터베이스에서 받은 데이터를 다음에 재사용할 수 있도록 1차 캐시에 저장한다.   
※ 1차 캐시는 객체의 동일성을 (a == b)를 보장한다.
![image](https://user-images.githubusercontent.com/13326651/215983499-87436c12-2566-4bb7-a339-2710fb6fd84c.png)
